/*! For license information please see main.31465dfa.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function s(e){var t="https://523da7e0-8e2a-470e-93ce-84d37811eda4.preview.emergentagent.com","/api/users/").concat(t.id,"/name"),{name:c.trim()})).data&&(r({name:c.trim()}),h("Name updated successfully!"),o(!1),setTimeout((()=>h("")),3e3))}catch(e){console.error("Failed to update name:",e),h("Failed to update name. Please try again.")}finally{f(!1)}}},disabled:d||!c.trim(),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(d||!c.trim()?"bg-gray-400 cursor-not-allowed":l?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:d?"Saving...":"Save"}),(0,Kt.jsx)("button",{onClick:()=>{u((null===t||void 0===t?void 0:t.name)||""),o(!1),h("")},disabled:d,className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(l?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-400 hover:bg-gray-500 text-white"),children:"Cancel"})]}):(0,Kt.jsxs)("div",{className:"flex space-x-2",children:[(0,Kt.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t.name)||"No name set",className:"flex-1 px-3 py-2 rounded-lg border ".concat(l?"bg-gray-800/50 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," cursor-not-allowed opacity-75"),disabled:!0}),(0,Kt.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("bg-blue-600 hover:bg-blue-700 text-white"),children:"Edit"})]})]}),(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(l?"text-gray-300":"text-gray-700"),children:"Email"}),(0,Kt.jsx)("input",{type:"email",value:(null===t||void 0===t?void 0:t.email)||"",className:"w-full px-3 py-2 rounded-lg border ".concat(l?"bg-gray-800/50 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-green-400 focus:border-transparent"),disabled:!0})]}),(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(l?"text-gray-300":"text-gray-700"),children:"Account Type"}),(0,Kt.jsx)("div",{className:"w-full px-3 py-2 rounded-lg border ".concat(l?"bg-gray-800/50 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," cursor-not-allowed opacity-75"),children:"trainer"===(null===t||void 0===t?void 0:t.role)?"Professional Trainer":"Fitness Enthusiast"}),(0,Kt.jsx)("p",{className:"text-xs mt-1 ".concat(l?"text-gray-400":"text-gray-500"),children:"Account type cannot be changed. Contact support if you need to upgrade to a trainer account."})]})]})]}),(0,Kt.jsxs)("div",{className:"".concat(l?"glass-card-dark":"glass-card-light"," p-6"),children:[(0,Kt.jsx)("h2",{className:"text-xl font-bold mb-4 ".concat(l?"text-green-400":"text-blue-600"),children:"Appearance Settings"}),(0,Kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("h3",{className:"font-medium ".concat(l?"text-white":"text-gray-900"),children:"Dark Mode"}),(0,Kt.jsx)("p",{className:"text-sm ".concat(l?"text-gray-400":"text-gray-600"),children:"Toggle between light and dark themes"})]}),(0,Kt.jsx)("button",{onClick:s,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(l?"bg-green-600":"bg-gray-300"),children:(0,Kt.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(l?"translate-x-6":"translate-x-1")})})]})]}),(0,Kt.jsxs)("div",{className:"".concat(l?"glass-card-dark":"glass-card-light"," p-6"),children:[(0,Kt.jsx)("h2",{className:"text-xl font-bold mb-4 text-red-400",children:"Account Actions"}),(0,Kt.jsx)("button",{onClick:n,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Sign Out"})]})]})},An=e=>{var t,n;let{user:r,treeProgress:l,onLogout:s}=e;const{darkMode:i}=(0,a.useContext)(nn);return(0,Kt.jsxs)("div",{className:"space-y-6",children:[(0,Kt.jsxs)("div",{className:"".concat(i?"glass-card-dark":"glass-card-light"," p-6 text-center"),children:[(0,Kt.jsxs)("div",{className:"mb-4",children:[(0,Kt.jsx)("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Kt.jsx)("span",{className:"text-3xl text-white",children:"\ud83d\udc64"})}),(0,Kt.jsx)("h1",{className:"text-xl font-bold ".concat(i?"text-white":"text-gray-900"),children:(null===r||void 0===r?void 0:r.email)||"User"}),(0,Kt.jsx)("p",{className:"text-sm ".concat(i?"text-gray-400":"text-gray-600"),children:(null===r||void 0===r||null===(t=r.role)||void 0===t?void 0:t.replace("_"," "))||"Fitness Enthusiast"})]}),(0,Kt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,Kt.jsxs)("div",{className:"text-center",children:[(0,Kt.jsx)("div",{className:"text-xl font-bold ".concat(i?"text-green-400":"text-blue-600"),children:(null===l||void 0===l?void 0:l.total_sessions)||0}),(0,Kt.jsx)("p",{className:"text-xs ".concat(i?"text-gray-400":"text-gray-600"),children:"Sessions"})]}),(0,Kt.jsxs)("div",{className:"text-center",children:[(0,Kt.jsx)("div",{className:"text-xl font-bold ".concat(i?"text-yellow-400":"text-green-600"),children:(null===l||void 0===l?void 0:l.lift_coins)||0}),(0,Kt.jsx)("p",{className:"text-xs ".concat(i?"text-gray-400":"text-gray-600"),children:"LiftCoins"})]}),(0,Kt.jsxs)("div",{className:"text-center",children:[(0,Kt.jsx)("div",{className:"text-xl font-bold ".concat(i?"text-orange-400":"text-orange-600"),children:(null===l||void 0===l?void 0:l.consistency_streak)||0}),(0,Kt.jsx)("p",{className:"text-xs ".concat(i?"text-gray-400":"text-gray-600"),children:"Streak"})]})]})]}),(0,Kt.jsxs)("div",{className:"".concat(i?"glass-card-dark":"glass-card-light"," p-6"),children:[(0,Kt.jsx)("h2",{className:"text-lg font-bold mb-4 ".concat(i?"text-green-400":"text-blue-600"),children:"Current Tree Level"}),(0,Kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kt.jsx)(sn,{level:(null===l||void 0===l?void 0:l.current_level)||"seed",size:60}),(0,Kt.jsxs)("div",{className:"flex-1",children:[(0,Kt.jsx)("h3",{className:"font-bold ".concat(i?"text-white":"text-gray-900"),children:(null===l||void 0===l||null===(n=l.current_level)||void 0===n?void 0:n.replace("_"," "))||"Seed"}),(0,Kt.jsx)("div",{className:"w-full ".concat(i?"bg-gray-800":"bg-gray-200"," rounded-full h-2 mt-2"),children:(0,Kt.jsx)("div",{className:"".concat(i?"bg-gradient-to-r from-green-400 to-yellow-400":"bg-gradient-to-r from-blue-400 to-green-400"," h-2 rounded-full"),style:{width:"".concat((null===l||void 0===l?void 0:l.progress_percentage)||0,"%")}})}),(0,Kt.jsxs)("p",{className:"text-xs mt-1 ".concat(i?"text-gray-400":"text-gray-600"),children:[Math.round((null===l||void 0===l?void 0:l.progress_percentage)||0),"% to next level"]})]})]})]}),(0,Kt.jsxs)("div",{className:"".concat(i?"glass-card-dark":"glass-card-light"," p-6"),children:[(0,Kt.jsx)("h2",{className:"text-lg font-bold mb-4 ".concat(i?"text-green-400":"text-blue-600"),children:"Quick Actions"}),(0,Kt.jsxs)("div",{className:"space-y-3",children:[(0,Kt.jsx)("button",{className:"w-full p-3 rounded-lg border transition-colors ".concat(i?"border-gray-600 hover:bg-gray-800/50 text-white":"border-gray-300 hover:bg-gray-50 text-gray-900"),children:"Edit Profile"}),(0,Kt.jsx)("button",{onClick:s,className:"w-full p-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Sign Out"})]})]})]})},Rn=e=>{var t,n,r;let{user:l,treeProgress:s,setActiveTab:i}=e;const{darkMode:o}=(0,a.useContext)(nn);return(0,Kt.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,Kt.jsx)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-6 md:p-8"),children:(0,Kt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Kt.jsxs)("div",{children:[(0,Kt.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold ".concat(o?"text-green-400":"text-blue-600"," mb-2"),children:["Welcome back, ",(null===l||void 0===l?void 0:l.name)||(null===l||void 0===l||null===(t=l.email)||void 0===t?void 0:t.split("@")[0])||"Fitness Champion","! \ud83d\ude80"]}),(0,Kt.jsx)("p",{className:"".concat(o?"text-gray-300":"text-gray-600"),children:"Ready to grow your fitness tree today?"})]}),(0,Kt.jsx)(sn,{level:(null===s||void 0===s?void 0:s.current_level)||"seed",size:80})]})}),(0,Kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 md:gap-6",children:[(0,Kt.jsxs)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-4 text-center"),children:[(0,Kt.jsx)("div",{className:"text-2xl md:text-3xl font-bold ".concat(o?"text-green-400":"text-blue-600"," mb-1"),children:(null===s||void 0===s?void 0:s.total_sessions)||0}),(0,Kt.jsx)("p",{className:"text-xs md:text-sm ".concat(o?"text-gray-300":"text-gray-600"),children:"Sessions"})]}),(0,Kt.jsxs)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-4 text-center"),children:[(0,Kt.jsx)("div",{className:"text-2xl md:text-3xl font-bold ".concat(o?"text-orange-400":"text-orange-600"," mb-1"),children:(null===s||void 0===s?void 0:s.consistency_streak)||0}),(0,Kt.jsx)("p",{className:"text-xs md:text-sm ".concat(o?"text-gray-300":"text-gray-600"),children:"Streak"})]}),(0,Kt.jsxs)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-4 text-center"),children:[(0,Kt.jsx)("div",{className:"text-2xl md:text-3xl font-bold ".concat(o?"text-purple-400":"text-purple-600"," mb-1"),children:(null===s||void 0===s||null===(n=s.current_level)||void 0===n?void 0:n.replace("_"," "))||"Seed"}),(0,Kt.jsx)("p",{className:"text-xs md:text-sm ".concat(o?"text-gray-300":"text-gray-600"),children:"Level"})]}),(0,Kt.jsx)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-4 text-center"),children:(0,Kt.jsx)(on,{count:(null===s||void 0===s?void 0:s.lift_coins)||0,size:"sm"})})]}),(0,Kt.jsxs)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-6"),children:[(0,Kt.jsx)("h2",{className:"text-xl font-bold mb-4 ".concat(o?"text-green-400":"text-blue-600"),children:"Your Progress Tree"}),(0,Kt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Kt.jsx)(sn,{level:(null===s||void 0===s?void 0:s.current_level)||"seed",size:80}),(0,Kt.jsxs)("div",{className:"flex-1",children:[(0,Kt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Kt.jsx)("span",{className:"text-sm font-medium ".concat(o?"text-white":"text-gray-800"),children:(null===s||void 0===s||null===(r=s.current_level)||void 0===r?void 0:r.replace("_"," "))||"Seed"}),(0,Kt.jsxs)("span",{className:"text-sm ".concat(o?"text-gray-400":"text-gray-600"),children:[Math.round((null===s||void 0===s?void 0:s.progress_percentage)||0),"%"]})]}),(0,Kt.jsx)("div",{className:"w-full ".concat(o?"bg-gray-800":"bg-gray-200"," rounded-full h-3"),children:(0,Kt.jsx)("div",{className:"".concat(o?"bg-gradient-to-r from-green-400 to-yellow-400":"bg-gradient-to-r from-blue-400 to-green-400"," h-3 rounded-full transition-all duration-1000"),style:{width:"".concat((null===s||void 0===s?void 0:s.progress_percentage)||0,"%")}})})]})]})]}),(0,Kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Kt.jsxs)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-6 text-center space-y-2"),children:[(0,Kt.jsx)("div",{className:"text-3xl",children:"\u231a"}),(0,Kt.jsx)("div",{className:"text-lg font-bold ".concat(o?"text-white":"text-gray-900"),children:"Connect Fitness Device"}),(0,Kt.jsx)("div",{className:"text-sm opacity-75 ".concat(o?"text-gray-300":"text-gray-600"),children:"Auto-track your workouts"}),(0,Kt.jsx)("button",{onClick:()=>i("fitness"),className:"mt-4 px-4 py-2 rounded-lg font-medium transition-colors ".concat(o?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:"Get Started"})]}),(0,Kt.jsxs)("div",{className:"".concat(o?"glass-card-dark":"glass-card-light"," p-6 text-center space-y-2"),children:[(0,Kt.jsx)("div",{className:"text-3xl",children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,Kt.jsx)("div",{className:"text-lg font-bold ".concat(o?"text-white":"text-gray-900"),children:"Find Trainers"}),(0,Kt.jsx)("div",{className:"text-sm opacity-75 ".concat(o?"text-gray-300":"text-gray-600"),children:"Book sessions with professionals"}),(0,Kt.jsx)("button",{onClick:()=>i("trainers"),className:"mt-4 px-4 py-2 rounded-lg font-medium transition-colors ".concat(o?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:"Browse Trainers"})]})]})]})};const Fn=function(){var e;const[t,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(!0),[s,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)("dashboard"),[d,f]=(0,a.useState)(null),[m,h]=(0,a.useState)([]),[g,p]=(0,a.useState)(!1),[x,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=localStorage.getItem("liftlink_user");if(e)try{n(JSON.parse(e))}catch(t){console.error("Error parsing saved user:",t),localStorage.removeItem("liftlink_user")}l(!1)}),[]),(0,a.useEffect)((()=>{t&&(w(),j())}),[t]);const w=async()=>{try{const e=await At.get("".concat(en,"/users/").concat(t.id,"/tree-progress"));f(e.data)}catch(e){console.error("Failed to fetch tree progress:",e)}},j=async()=>{try{const e=await At.get("".concat(en,"/users/").concat(t.id,"/sessions"));h(e.data)}catch(e){console.error("Failed to fetch sessions:",e)}},N=()=>{i(!s)},k=e=>{const r=u(u({},t),e);n(r),localStorage.setItem("liftlink_user",JSON.stringify(r))},S=()=>{localStorage.removeItem("liftlink_user"),n(null),c("dashboard")},C=e=>{y(e),v({type:"Personal Training",duration:"60 minutes",amount:100*parseInt(e.price.replace("$","").replace("/session","")),location:e.location||"LiftLink Gym"}),p(!0)};return r?(0,Kt.jsx)("div",{className:"min-h-screen cyberpunk-bg flex items-center justify-center",children:(0,Kt.jsxs)("div",{className:"text-center space-y-4",children:[(0,Kt.jsx)(ln,{size:80}),(0,Kt.jsx)(sn,{level:"seed",size:60}),(0,Kt.jsx)("p",{className:"text-green-400 text-lg",children:"Loading LiftLink..."})]})}):(0,Kt.jsx)(nn.Provider,{value:{darkMode:s,toggleDarkMode:N},children:(0,Kt.jsxs)("div",{className:"App",children:[t?"trainer"===t.role?(0,Kt.jsx)(hn,{user:t,onLogout:S,onUpdateUser:k}):(0,Kt.jsxs)("div",{className:"min-h-screen transition-all duration-500 ".concat(s?"cyberpunk-bg":"light-mode-bg"),children:[(0,Kt.jsx)(mn,{activeTab:o,setActiveTab:c,darkMode:s}),(0,Kt.jsx)(fn,{activeTab:o,setActiveTab:c,darkMode:s}),(0,Kt.jsx)("header",{className:"hidden md:block fixed top-0 left-64 right-0 ".concat(s?"bg-black/95":"bg-white/95"," backdrop-blur-md border-b ").concat(s?"border-green-400/30":"border-gray-200"," p-4 z-30"),children:(0,Kt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Kt.jsx)("button",{onClick:N,className:"p-2 rounded-lg transition-colors ".concat(s?"bg-gray-800 text-yellow-400":"bg-gray-200 text-gray-600"),children:(0,Kt.jsx)(an.Theme,{size:20,darkMode:s})}),(0,Kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Kt.jsx)(on,{count:(null===d||void 0===d?void 0:d.lift_coins)||0}),(0,Kt.jsxs)("div",{className:"text-sm ".concat(s?"text-gray-300":"text-gray-600"),children:["Level: ",(null===d||void 0===d||null===(e=d.current_level)||void 0===e?void 0:e.replace("_"," "))||"Seed"]})]})]})}),(0,Kt.jsx)("main",{className:"".concat("md:pl-64 md:pt-20"," p-4 md:p-6 pb-20 md:pb-6"),children:(0,Kt.jsx)("div",{className:"max-w-7xl mx-auto",children:(()=>{switch(o){case"dashboard":return(0,Kt.jsx)(Rn,{user:t,treeProgress:d,setActiveTab:c});case"trainers":return(0,Kt.jsx)(Cn,{user:t,onBookTrainer:C});case"tree":return(0,Kt.jsx)(En,{user:t,treeProgress:d});case"sessions":return(0,Kt.jsx)(Pn,{user:t,sessions:m});case"fitness":return(0,Kt.jsx)(_n,{user:t});case"rewards":return(0,Kt.jsx)(Tn,{user:t,treeProgress:d});case"friends":return(0,Kt.jsx)(zn,{user:t});case"analytics":return(0,Kt.jsx)(Ln,{user:t,treeProgress:d,sessions:m});case"settings":return(0,Kt.jsx)(On,{user:t,onLogout:S,onUpdateUser:k});case"profile":return(0,Kt.jsx)(An,{user:t,treeProgress:d,onLogout:S});default:return(0,Kt.jsx)(Rn,{user:t,treeProgress:d})}})()})})]}):(0,Kt.jsx)(cn,{onComplete:n}),g&&x&&b&&(0,Kt.jsx)(Jt,{trainer:x,sessionDetails:b,onPaymentSuccess:e=>{console.log("Payment successful:",e),p(!1),y(null),v(null),alert("Payment successful! Your session with ".concat(x.name," has been booked."))},onCancel:()=>{p(!1),y(null),v(null)},darkMode:s})]})})};l.createRoot(document.getElementById("root")).render((0,Kt.jsx)(a.StrictMode,{children:(0,Kt.jsx)(Fn,{})}))})();
//# sourceMappingURL=main.31465dfa.js.map